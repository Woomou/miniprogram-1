// 基于参考设计系统的现代化拼读学习页面样式
// Design System Variables
$bg-base: #FFFFFF;
$brand-50: #F2EAFE;
$brand-400: #8B5CF6;
$brand-500: #7C3AED;
$brand-600: #6D28D9;
$text-primary: #111827;
$text-secondary: #6B7280;
$text-muted: #9CA3AF;
$text-inverse: #FFFFFF;
$chip-bg: #F3F4F6;
$chip-active: #E0E7FF;
$accent-orange: #FF7A1A;
$card-bg: #FFFFFF;
$card-border: #E5E7EB;

$radius-sm: 16rpx;    // 8px
$radius-md: 24rpx;    // 12px
$radius-lg: 32rpx;    // 16px
$radius-xl: 48rpx;    // 24px

$shadow-card: 0 12rpx 48rpx rgba(17, 24, 39, 0.06);

$spacing-xs: 8rpx;    // 4px
$spacing-sm: 16rpx;   // 8px
$spacing-md: 24rpx;   // 12px
$spacing-lg: 32rpx;   // 16px
$spacing-xl: 48rpx;   // 24px
$spacing-xxl: 64rpx;  // 32px

// Main Container
.app-container {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background: $bg-base;
}

// App Bar
.app-bar {
  background: linear-gradient(135deg, $brand-50, $brand-400);
  padding-top: env(safe-area-inset-top);
  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);
}

.app-bar-content {
  display: flex;
  align-items: center;
  height: 128rpx;
  padding: 0 $spacing-xl;
}

.app-bar-left,
.app-bar-right {
  flex: 0 0 auto;
  width: 80rpx;
}

.app-bar-title {
  flex: 1;
  text-align: center;
}

.icon-button {
  width: 64rpx;
  height: 64rpx;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(10rpx);
  
  .icon {
    font-size: 36rpx;
    color: $text-inverse;
    font-weight: 600;
  }
}

.title-text {
  font-size: 36rpx;
  font-weight: 600;
  color: $text-inverse;
}

// Main Scroll View
.main-scroll {
  flex: 1;
  background: $bg-base;
}

// Section Base
.section {
  padding: 0 $spacing-xl;
  margin-bottom: $spacing-xl;
}

// Word Chips Section
.word-chips-section {
  padding-top: $spacing-lg;
}

.chip-row {
  display: flex;
  flex-wrap: wrap;
  gap: $spacing-sm;
}

.word-chip {
  position: relative;
  background: $chip-bg;
  border-radius: $radius-lg;
  padding: $spacing-md $spacing-lg;
  display: flex;
  align-items: center;
  gap: $spacing-sm;
  transition: all 0.2s ease;
  
  &.active {
    background: $chip-active;
    border: 2rpx solid $brand-400;
  }
  
  .chip-text {
    font-size: 28rpx;
    color: $text-primary;
    font-weight: 500;
  }
  
  .chip-difficulty {
    width: 12rpx;
    height: 12rpx;
    border-radius: 50%;
    
    &.difficulty-easy {
      background: #10B981;
    }
    
    &.difficulty-medium {
      background: #F59E0B;
    }
    
    &.difficulty-hard {
      background: #EF4444;
    }
  }
}

// Step Tabs Section
.tabs-section {
  margin-top: $spacing-lg;
}

.step-tabs {
  display: flex;
  gap: $spacing-sm;
  padding: $spacing-sm;
  background: $chip-bg;
  border-radius: $radius-lg;
  overflow-x: auto;
}

.tab-item {
  flex: 0 0 auto;
  padding: $spacing-sm $spacing-lg;
  border-radius: $radius-sm;
  background: transparent;
  transition: all 0.2s ease;
  
  &.active {
    background: $brand-400;
    
    .tab-label {
      color: $text-inverse;
    }
  }
  
  &.disabled {
    opacity: 0.5;
    pointer-events: none;
  }
  
  .tab-label {
    font-size: 28rpx;
    font-weight: 500;
    color: $text-secondary;
  }
}

// Main Word Card
.main-word-card {
  background: $card-bg;
  border-radius: $radius-xl;
  padding: $spacing-xxl;
  box-shadow: $shadow-card;
}

.word-title-section {
  text-align: center;
  margin-bottom: $spacing-lg;
}

.word-title {
  font-size: 112rpx;
  font-weight: 800;
  color: $accent-orange;
  letter-spacing: 1rpx;
  display: block;
}

.compose-hints {
  display: flex;
  justify-content: center;
  gap: $spacing-sm;
  margin-top: $spacing-md;
}

.hint-chip {
  background: #FEF3C7;
  border: 2rpx solid #F59E0B;
  border-radius: $radius-sm;
  padding: $spacing-sm $spacing-md;
  
  .hint-text {
    font-size: 24rpx;
    color: #92400E;
    font-weight: 500;
  }
}

.ipa-row {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: $spacing-sm;
  margin-top: $spacing-lg;
}

.phonetic-text {
  font-size: 36rpx;
  color: $text-secondary;
  font-family: 'Times New Roman', serif;
}

.play-button {
  width: 64rpx;
  height: 64rpx;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background: $brand-50;
  
  .play-icon {
    font-size: 32rpx;
  }
}

.meaning-row {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: $spacing-sm;
  margin-top: $spacing-sm;
}

.word-type {
  font-size: 28rpx;
  color: $text-secondary;
  font-style: italic;
}

.word-meaning {
  font-size: 32rpx;
  color: $text-primary;
  font-weight: 500;
}

.detail-link {
  font-size: 28rpx;
  color: $brand-400;
  text-decoration: underline;
}

// Phoneme Section
.phoneme-section {
  margin-top: $spacing-xl;
}

.phoneme-chips {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: $spacing-sm;
}

.phoneme-chip {
  background: $chip-bg;
  border-radius: $radius-sm;
  padding: $spacing-sm $spacing-md;
  
  .phoneme-text {
    font-size: 24rpx;
    color: $text-primary;
    font-weight: 500;
    font-family: 'Times New Roman', serif;
  }
}

// Action Buttons
.action-buttons {
  display: flex;
  gap: $spacing-lg;
  margin-top: $spacing-xl;
}

.action-btn {
  flex: 1;
  padding: $spacing-lg;
  border-radius: $radius-sm;
  text-align: center;
  transition: all 0.2s ease;
  
  &.outline {
    background: transparent;
    border: 2rpx solid $brand-400;
    
    .btn-text {
      color: $brand-400;
    }
  }
  
  &.active {
    background: $brand-400;
    
    .btn-text {
      color: $text-inverse;
    }
  }
  
  .btn-text {
    font-size: 28rpx;
    font-weight: 500;
  }
}

// Analysis Card
.analysis-card {
  background: $card-bg;
  border: 2rpx solid $card-border;
  border-radius: $radius-lg;
  padding: $spacing-lg;
  margin-top: $spacing-xl;
}

.analysis-badge {
  display: inline-block;
  background: $brand-50;
  color: $brand-600;
  padding: $spacing-sm $spacing-md;
  border-radius: $radius-sm;
  margin-bottom: $spacing-md;
  
  .badge-text {
    font-size: 24rpx;
    font-weight: 600;
  }
}

.analysis-content {
  margin: $spacing-md 0;
}

// Phonics Breakdown
.phonics-breakdown {
  display: flex;
  flex-wrap: wrap;
  gap: $spacing-md;
  justify-content: center;
}

.phonics-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: $spacing-md;
  background: $chip-bg;
  border-radius: $radius-sm;
  min-width: 80rpx;
  
  .letter-part {
    font-size: 32rpx;
    font-weight: bold;
    color: $accent-orange;
    margin-bottom: $spacing-xs;
  }
  
  .sound-part {
    font-size: 24rpx;
    color: $text-secondary;
    font-family: 'Times New Roman', serif;
  }
}

// Syllable Breakdown
.syllable-breakdown {
  display: flex;
  gap: $spacing-md;
  justify-content: center;
  align-items: center;
}

.syllable-item {
  padding: $spacing-md $spacing-lg;
  background: $chip-active;
  border-radius: $radius-sm;
  border: 2rpx dashed $brand-400;
  
  .syllable-text {
    font-size: 32rpx;
    font-weight: 600;
    color: $brand-600;
  }
}

.analysis-tips {
  margin-top: $spacing-md;
  padding: $spacing-md;
  background: $brand-50;
  border-radius: $radius-sm;
  border-left: 4rpx solid $brand-400;
  
  .tips-text {
    font-size: 26rpx;
    color: $text-secondary;
    line-height: 1.5;
  }
}

// Recording Card
.recording-card {
  background: $card-bg;
  border-radius: $radius-lg;
  padding: $spacing-lg;
  box-shadow: $shadow-card;
}

.recording-badge {
  display: inline-block;
  background: #DBEAFE;
  color: #1D4ED8;
  padding: $spacing-sm $spacing-md;
  border-radius: $radius-sm;
  margin-bottom: $spacing-lg;
  
  .badge-text {
    font-size: 24rpx;
    font-weight: 600;
  }
}

.recording-section {
  text-align: center;
  margin-bottom: $spacing-xl;
}

.microphone-container {
  display: flex;
  justify-content: center;
}

.microphone-btn {
  width: 200rpx;
  height: 200rpx;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background: linear-gradient(135deg, #3B82F6, #1D4ED8);
  box-shadow: 0 8rpx 32rpx rgba(59, 130, 246, 0.3);
  transition: all 0.3s ease;
  
  &.recording {
    background: linear-gradient(135deg, #EF4444, #DC2626);
    box-shadow: 0 8rpx 32rpx rgba(239, 68, 68, 0.3);
    animation: pulse 1.5s infinite;
  }
  
  .mic-text {
    font-size: 48rpx;
    margin-bottom: $spacing-sm;
  }
  
  .mic-label {
    font-size: 24rpx;
    color: $text-inverse;
    font-weight: 500;
  }
}

// Result Analysis
.result-analysis {
  margin-top: $spacing-xl;
  padding-top: $spacing-xl;
  border-top: 2rpx solid $card-border;
}

.result-title {
  text-align: center;
  margin-bottom: $spacing-lg;
  
  .title-text {
    font-size: 32rpx;
    font-weight: 600;
    color: $text-primary;
  }
}

.word-comparison {
  display: flex;
  align-items: center;
  gap: $spacing-md;
  margin-bottom: $spacing-xl;
  padding: $spacing-lg;
  background: #F9FAFB;
  border-radius: $radius-lg;
}

.comparison-item {
  flex: 1;
  text-align: center;
  
  .item-label {
    font-size: 24rpx;
    color: $text-muted;
    display: block;
    margin-bottom: $spacing-xs;
  }
  
  .item-word {
    font-size: 32rpx;
    font-weight: 600;
    color: $text-primary;
  }
  
  &.original .item-word {
    color: $brand-400;
  }
  
  &.recognized .item-word {
    color: $accent-orange;
  }
}

.comparison-arrow {
  .arrow-text {
    font-size: 32rpx;
    color: $text-muted;
  }
}

.accuracy-display {
  display: flex;
  align-items: center;
  gap: $spacing-lg;
  margin-bottom: $spacing-xl;
}

.accuracy-bar-container {
  flex: 1;
}

.accuracy-bar {
  height: 16rpx;
  background: #E5E7EB;
  border-radius: 8rpx;
  overflow: hidden;
}

.accuracy-fill {
  height: 100%;
  background: linear-gradient(90deg, #EF4444 0%, #F59E0B 50%, #10B981 100%);
  border-radius: 8rpx;
  transition: width 0.8s ease;
}

.accuracy-score {
  font-size: 32rpx;
  font-weight: 700;
  color: $text-primary;
  min-width: 80rpx;
  text-align: right;
}

.feedback-section {
  background: #FEF3C7;
  border-radius: $radius-sm;
  padding: $spacing-lg;
  margin-bottom: $spacing-xl;
  border-left: 4rpx solid #F59E0B;
  
  .feedback-title {
    font-size: 26rpx;
    font-weight: 600;
    color: #92400E;
    display: block;
    margin-bottom: $spacing-sm;
  }
  
  .feedback-content {
    font-size: 28rpx;
    color: #78350F;
    line-height: 1.6;
  }
}

.retry-section {
  text-align: center;
}

.retry-btn {
  display: inline-block;
  background: $brand-400;
  color: $text-inverse;
  padding: $spacing-md $spacing-xl;
  border-radius: $radius-sm;
  transition: all 0.2s ease;
  
  .retry-text {
    font-size: 28rpx;
    font-weight: 500;
  }
  
  &:active {
    background: $brand-500;
    transform: scale(0.98);
  }
}

// Usage Card
.usage-card {
  background: $card-bg;
  border-radius: $radius-lg;
  padding: $spacing-lg;
}

.usage-badge {
  display: inline-block;
  background: #ECFDF5;
  color: #065F46;
  padding: $spacing-sm $spacing-md;
  border-radius: $radius-sm;
  margin-bottom: $spacing-md;
  
  .badge-text {
    font-size: 24rpx;
    font-weight: 600;
  }
}

.usage-content {
  .usage-text {
    font-size: 28rpx;
    line-height: 1.6;
    color: $text-primary;
  }
}

// Empty State
.empty-state {
  text-align: center;
  padding: 120rpx $spacing-xl;
  
  .empty-text {
    font-size: 28rpx;
    color: $text-muted;
  }
}

// Bottom Spacing
.bottom-spacing {
  height: 120rpx;
}

// Animations
@keyframes pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20rpx);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// Responsive Design
@media screen and (max-width: 750rpx) {
  .word-title {
    font-size: 80rpx;
  }
  
  .section {
    padding: 0 $spacing-lg;
  }
  
  .main-word-card {
    padding: $spacing-lg;
  }
}