<!-- 单词列表页面 -->
<view class="container">
  <view class="header">
    <text class="title">单词列表</text>
  </view>
  
  <scroll-view class="word-list" scroll-y="true">
    <view class="word-item" 
          wx:for="{{wordList}}" 
          wx:key="id" 
          bindtap="selectWord"
          data-word="{{item}}">
      <view class="word-content">
        <view class="word-info">
          <text class="word">{{item.word}}</text>
          <text class="phonetic">{{item.phonetic}}</text>
        </view>
        <view class="meaning-info">
          <text class="meaning">{{item.meaning}}</text>
          <text class="category">{{item.category}}</text>
        </view>
        <view class="difficulty-tag difficulty-{{item.difficulty}}">
          {{item.difficulty}}
        </view>
      </view>
      <view class="actions">
        <button class="hw-btn" catchtap="togglePad" data-id="{{item.id}}" size="mini">手写</button>
        <view class="arrow">></view>
      </view>
    </view>
    
    <!-- 手写板面板：与该词条绑定 -->
    <view wx:if="{{showPadMap[item.id]}}" class="hw-panel">
      <view class="hw-header">
        <text>手写识别（{{item.word}}）</text>
        <button class="clear-btn" size="mini" catchtap="clearPad" data-id="{{item.id}}">清空</button>
      </view>
      <canvas
        class="hw-canvas"
        canvas-id="canvas-{{item.id}}"
        disable-scroll="true"
        bindtouchstart="onCanvasTouchStart"
        bindtouchmove="onCanvasTouchMove"
        bindtouchend="onCanvasTouchEnd"
        bindtouchcancel="onCanvasTouchEnd"
        data-id="{{item.id}}"
        style="width: 680rpx; height: 360rpx;"
      ></canvas>
      <view class="result">
        <text>识别结果：{{recognizeResultMap[item.id] || '…'}}</text>
      </view>
    </view>
  </scroll-view>
</view>
